{"ast":null,"code":"var _jsxFileName = \"S:\\\\ticket-master-master\\\\frontend\\\\ticket_master\\\\src\\\\components\\\\EditEvent.js\";\nimport React, { Component } from 'react';\nimport { Container, Input, Button, Label, Form, FormGroup } from 'reactstrap';\nimport { Link } from 'react-router-dom';\nimport DatePicker from 'react-datepicker';\nimport AppNav from './AppNav';\nclass EditEvent extends Component {\n  constructor(props) {\n    super(props);\n    this.onChange = e => this.setState({\n      [e.target.name]: e.target.value\n    });\n    this.state = {\n      id: '',\n      name: '',\n      event_date: new Date()\n    };\n    this.handleDateChange = this.handleDateChange.bind(this);\n    this.loadEvent = this.loadEvent.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n  async handleSubmit(event) {\n    event.preventDefault();\n    const item = this.state;\n    await fetch('/api/event/' + this.state.id, {\n      method: 'PUT',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(item)\n    });\n    this.props.history.push(\"/event\");\n  }\n  componentDidMount() {\n    this.loadEvent();\n  }\n  handleDateChange(date) {\n    this.setState({\n      event_date: date\n    });\n  }\n  async loadEvent() {\n    const response = await fetch('/api/event/' + window.localStorage.getItem(\"eventId\"));\n    const event = await response.json();\n    this.setState({\n      id: event.id,\n      name: event.name\n    });\n  }\n  render() {\n    const title = /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 23\n      }\n    }, \"Edit Form\");\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(AppNav, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }\n    }, title, /*#__PURE__*/React.createElement(Form, {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 29\n      }\n    }, \"Title\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"text\",\n      name: \"name\",\n      id: \"name\",\n      value: this.state.name,\n      onChange: this.onChange,\n      autoComplete: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"event_date\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 29\n      }\n    }, \"Date\"), /*#__PURE__*/React.createElement(DatePicker, {\n      selected: this.state.event_date,\n      onChange: this.handleDateChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      color: \"primary\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 29\n      }\n    }, \"Edit\"), ' ', /*#__PURE__*/React.createElement(Button, {\n      color: \"secondary\",\n      tag: Link,\n      to: \"/event\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 29\n      }\n    }, \"Cancel\")))));\n  }\n}\nexport default EditEvent;","map":{"version":3,"names":["React","Component","Container","Input","Button","Label","Form","FormGroup","Link","DatePicker","AppNav","EditEvent","constructor","props","onChange","e","setState","target","name","value","state","id","event_date","Date","handleDateChange","bind","loadEvent","handleSubmit","event","preventDefault","item","fetch","method","headers","body","JSON","stringify","history","push","componentDidMount","date","response","window","localStorage","getItem","json","render","title"],"sources":["S:/ticket-master-master/frontend/ticket_master/src/components/EditEvent.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport { Container, Input, Button, Label, Form, FormGroup } from 'reactstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport DatePicker from 'react-datepicker';\r\n\r\nimport AppNav from './AppNav';\r\n\r\nclass EditEvent extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state ={\r\n            id: '',\r\n            name: '',\r\n            event_date: new Date()\r\n        }\r\n        this.handleDateChange = this.handleDateChange.bind(this);\r\n        this.loadEvent = this.loadEvent.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    async handleSubmit(event) {\r\n        event.preventDefault();\r\n        const item = this.state;\r\n        await fetch('/api/event/'+ this.state.id, {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(item)\r\n        });\r\n        \r\n        this.props.history.push(\"/event\");\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.loadEvent();\r\n    }\r\n\r\n    handleDateChange(date) {\r\n        this.setState({ event_date: date });\r\n    }\r\n\r\n    async loadEvent() {\r\n        const response = await fetch('/api/event/' + window.localStorage.getItem(\"eventId\"));\r\n        const event = await response.json();\r\n        this.setState({\r\n            id: event.id,\r\n            name: event.name\r\n        });\r\n    }\r\n\r\n    onChange = (e) => this.setState({ [e.target.name]: e.target.value });\r\n\r\n    render() {\r\n        const title = <h3>Edit Form</h3>\r\n\r\n        return (\r\n            <div>\r\n                <AppNav />\r\n                <Container>\r\n                    {title}\r\n                    <Form onSubmit={this.handleSubmit}>\r\n                        <FormGroup>\r\n                            <Label for=\"name\">Title</Label>\r\n                            <Input type=\"text\" name=\"name\" id=\"name\" value={this.state.name}\r\n                                onChange={this.onChange} autoComplete=\"name\" />\r\n                        </FormGroup>\r\n\r\n                        <FormGroup>\r\n                            <Label for=\"event_date\">Date</Label>\r\n                            <DatePicker selected={this.state.event_date} onChange={this.handleDateChange} />\r\n                        </FormGroup>\r\n                        \r\n                        <FormGroup>\r\n                            <Button color=\"primary\" type=\"submit\">Edit</Button>{' '}\r\n                            <Button color=\"secondary\" tag={Link} to=\"/event\">Cancel</Button>\r\n                        </FormGroup>\r\n                    </Form>\r\n                </Container>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default EditEvent;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}